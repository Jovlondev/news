{% extends 'base.html' %}
{% load static %}
{% block title %} News|home{%endblock%}

{% load news_filter %}

{% block extra_style %}

<style>
	.popular .news-item {
    display: flex;
    flex-direction: column;
    height: 100%; /* Har bir yangilik bloki bir xil balandlikda bo‘ladi */
    overflow: hidden; /* Ortiqcha kontentni yashirish */
}

.popular .p_img {
    width: 100%;
    height: 200px; /* Rasm uchun belgilangan balandlik */
    overflow: hidden;
}

.popular .news-img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Rasmni to‘g‘ri joylashtirish */
}

.popular .news-category {
    display: block;
    font-size: 14px;
    color: #007bff;
    margin: 10px 0;
    text-decoration: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* Uzun kategoriya nomlari uchun ... qo‘yish */
}

.popular .date {
    display: block;
    font-size: 12px;
    color: #666;
    margin-bottom: 10px;
}

.popular .p_type {
    display: block;
    font-size: 16px;
    color: #333;
    line-height: 1.4;
    overflow: hidden;
    text-overflow: ellipsis; /* Uzun sarlavhalar uchun ... qo‘yish */
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Maksimal 2 qator bilan cheklash */
    -webkit-box-orient: vertical;
    margin-bottom: 10px;
}

/* Responsive dizayn uchun */
@media (max-width: 768px) {
    .popular .p_img {
        height: 150px; /* Kichik ekranlarda rasm balandligi */
    }

    .popular .p_type {
        font-size: 14px;
        -webkit-line-clamp: 3; /* Kichik ekranlarda 3 qator */
    }
}
</style>

{% endblock %}


{% block content %}

	<div class="container wrapper">
		<div class="longrek"></div>
		<div class="l_news">
			<div class="title">Tasodiviy: </div>
			<div class="l_news_box">
				<div id="littlenews" class="carousel slide" data-ride="carousel">
					<div class="carousel-inner" role="listbox">
						<div class="item active">
							<a href="{%url 'view'  pk=random_news.0.id %}">{{ random_news.0.title }}</a>
						</div>
						<div class="item">
							<a href="{%url 'view'  pk=random_news.1.id %}">{{ random_news.1.title }}</a>
						</div>
					</div>

					<a class="left carousel-control" href="#littlenews" role="button" data-slide="prev">
						<i class="fa fa-angle-left"></i>
					</a>
					<a class="right carousel-control" href="#littlenews" role="button" data-slide="next">
						<i class="fa fa-angle-right"></i>
					</a>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
		<div class="fav_news">
			<div class="big_fav">
				<div id="bigfav" class="carousel slide" data-ride="carousel">
					<div class="carousel-inner" role="listbox">
						<div class="item active">
							<img src="{{ news.0.image1.url }}" alt="...">
								<a href="{%url 'view'  pk=news.0.id %}">
									<div class="carousel-caption">
										<div class="caption_pos">
											<div class="type_news">{{ news.0.ctg.name }}</div>
											<div class="title">{{ news.0.title }}</div>
											<span class="date">{{ ews.0.get_date }}</span>
											<span class="com_count"><span class="fa fa-view"></span> {{news.0.view }} </span>
										</div>
									</div>
								</a>
						</div>

					</div>
					<div class="control">

					</div>
				</div>
			</div>
			<div class="list_fav">
				<div class="title"><b>Aktual</b> xabarlar</div>
				<ul>
					{% for i in aktual %}
					<li>
						<a href="#">
							<div class="list_fimg">
								<img src="{{ i.image1.url }}" alt="">
							</div>
							<span class="list_type">{{ i.ctg.name }}</span>
							<span class="list_title">{{ i.title }}</span>
							<span class="date">{{ i.get_date }}</span>
						</a>
					</li>
					{% endfor %}
				</ul>
				<a href="#" class="more">Aktual yangiliklar</a>
			</div>
			<div class="clearfix"></div>
		</div>
		<div class="head_title">Mashhur yanglilklar</div>



		<div class="popular">
		<div class="row">
			{% for i in pop_news %}
			<div class="col-md-3 col-xs-12 news-item" style="margin-bottom: 20px;">
				<div class="p_img">
					<img src="{{ i.image1.url }}" alt="" class="news-img">
				</div>
				<a href="#" class="news-category">{{ i.ctg.name }}</a>
				<span class="date">{{ i.get_date }}</span>
				<span class="p_type"><i class="fa fa-pencil"></i> {{ i.title }}</span>
			</div>
			{% endfor %}
		</div>


	</div>
		<div class="rek1"></div>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-md-8 col-xs-12">
				<div class="head_title">Tasodiflar</div>
				<div class="news_box">
					<div class="row">
						<div class="col-md-6 col-xs-12">
							{% for i in t_random_news %}
							<div class="big_news">
								<div class="big_n_img"><img src="{{ i.image1.url }}" alt=""></div>
								<a href="#">{{i.title}}</a>
								<span class="date">12.01.2017</span>
								<span class="news_type"><i class="fa fa-pencil"></i>{{i.ctg.name}}</span>
								<div class="desc">{{i.short_desc}}</div>
							</div>
							{% endfor %}
						</div>
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{% for i in tasodif_news %}
								<li>
									<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
									<a href="#">{{ i.title }}</a>
									<span class="date">{{ i.get_date }}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{i.ctg.name}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
					</div>
				</div>
				<div class="head_title">Siyosiy</div>
				<div class="news_box">
					<div class="row">
						{% for i in siyosiy_news %}
						<div class="col-md-6 col-xs-12">
							<div class="big_news">
								<div class="big_n_img"><img src="{{ i.image1.url }}" alt=""></div>
								<a href="#">{{i.title}}</a>
								<span class="date">{{i.get_date}}</span>
								<span class="news_type"><i class="fa fa-pencil"></i>{{i.name}}</span>
								<div class="desc">{{i.short_desc}}</div>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
				<div class="news_box">
					<div class="row">
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{%for i in r_siyosiy_news%}
								<li>
									<div class="list_img"><img src="{{i.image1.url}}" alt=""></div>
									<a href="#">{{i.title}}</a>
									<span class="date">{{i.get_date}}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{i.ctg.name}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{%for i in r_siyosiy_news%}
								<li>
									<div class="list_img"><img src="{{i.image1.url}}" alt=""></div>
									<a href="#">{{i.title}}</a>
									<span class="date">{{i.get_date}}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{i.ctg.name}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-xs-12">
				{% include "partials/svejiy.html" %}

				<div class="head_title colum">Mualiflar</div>
					<div class="news_box colums">
						<ul class="list_news">
							{% for i in svejiy_news %}
							<li>
								<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
								<a href="#">{{ i.title }}</a>
								<div class="col_type">{{i.short_desc}}</div>
							</li>
							{% endfor %}
						</ul>
					</div>
				<div class="news_box rek">
					<div class="rek_right">

					</div>
				</div>
				<div class="subscribe">
					<div class="title">Sytimizga: <b>1news.uz</b></div>
					<form action="{% url 'subs_add' path='home' %}" method="post">
						{% csrf_token %}
						<div class="input-group">
							<input type="text" name="email" placeholder="Email" required>
							<button class="submit">Obuna bo'lish</button>
						</div>
					</form>
				</div>

			</div>
		</div>
	</div>
	<div class="culture">
		<div class="container">
			<div class="title">КУЛЬТУРА</div>
			<div id="culture" class="carousel slide" data-ride="carousel">
				<ol class="carousel-indicators">
					<li data-target="#culture" data-slide-to="0" class="active"></li>
					<li data-target="#culture" data-slide-to="1"></li>
				</ol>
				<div class="carousel-inner" role="listbox">
					<div class="item active">
						<div class="big_cult">
							<img src="{% static 'img/cult1.jpg' %}" alt="">
							<a href="#">
								<div class="caption">«Ожидание» — весенняя коллекция для девушек в «особом» положении</div>
							</a>
						</div>
						<div class="little_cult">
							<img src="{% static 'img/cult1.jpg' %}" alt="">
							<a href="#">
								<div class="caption">«Ожидание» — весенняя коллекция для девушек в «особом» положении</div>
							</a>
						</div>
						<div class="little_cult">
							<img src="{% static 'img/cult1.jpg' %}" alt="">
							<a href="#">
								<div class="caption">«Ожидание» — весенняя коллекция для девушек в «особом» положении</div>
							</a>
						</div>
						<div class="little_cult">
							<img src="{% static 'img/cult1.jpg' %}" alt="">
							<a href="#">
								<div class="caption">«Ожидание» — весенняя коллекция для девушек в «особом» положении</div>
							</a>
						</div>
						<div class="little_cult">
							<img src="{% static 'img/cult1.jpg' %}" alt="">
							<a href="#">
								<div class="caption">«Ожидание» — весенняя коллекция для девушек в «особом» положении</div>
							</a>
						</div>
					</div>
				</div>
			</div>
			<a href="#" class="more">больше новости</a>
		</div>
	</div>

	<div class="container">
		<div class="row">
			<div class="col-md-8 col-xs-12">
				<div class="head_title">Jamiyat</div>
				<div class="news_box">
					<div class="row">
						{% for i in jamiyat_news %}
						<div class="col-md-6 col-xs-12">
							<div class="big_news">
								<div class="big_n_img"><img src="{{ i.image1.url }}" alt=""></div>
								<a href="#">{{ i.title }}</a>
								<span class="date">{{i.get_date }}</span>
								<span class="news_type"><i class="fa fa-pencil"></i>{{ i.ctg.name }}</span>
								<div class="desc">{{i.short_desc}}</div>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
				<div class="news_box">
					<div class="row">
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{% for i in jamiyat2_news %}
								<li>
									<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
									<a href="#">{{ i.title }}</a>
									<span class="date">{{ i.get_date }}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{{ i.ctg.name }}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{% for i in jamiyat2_news %}
								<li>
									<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
									<a href="#">{{ i.title }}</a>
									<span class="date">{{ i.get_date }}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{{ i.ctg.name }}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
					</div>
				</div>
				<div class="head_title">Dunyo Yangliklari</div>
				<div class="news_box">
					<div class="row">
						{% for i in dunyo_news %}
						<div class="col-md-6 col-xs-12">
							<div class="big_news">
								<div class="big_n_img"><img src="{{ i.image1.url }}" alt=""></div>
								<a href="#">{{ i.title }}</a>
								<span class="date">{{ i.get_date }}</span>
								<span class="news_type"><i class="fa fa-pencil"></i>{{ i.ctg.name }}</span>
								<div class="desc">{{ i.short_desc }}</div>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
				<div class="news_box">
					<div class="row">
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{% for i in dunyo_news2 %}
								<li>
									<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
									<a href="#">{{ i.title }}</a>
									<span class="date">{{ i.get_date }}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{{ i.ctg.name }}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
						<div class="col-md-6 col-xs-12">
							<ul class="list_news">
								{% for i in dunyo_news2 %}
								<li>
									<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
									<a href="#">{{ i.title }}</a>
									<span class="date">{{ i.get_date }}</span>
									<span class="news_type"><i class="fa fa-pencil"></i>{{ i.ctg.name }}</span>
								</li>
								{% endfor %}
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-4 col-xs-12">
				<div class="head_title">Texnologiyalar</div>
				<div id="technews" class="carousel slide listnews technonews" data-ride="carousel">
						<div class="carousel-inner" role="listbox">
							{% for i in texnologiya_new %}
							<div class="item active">
								<div class="full_img">
									<img src="{{ i.image1.url }}" alt="">
								</div>
								<div class="news_box">
										<a href="#">{{ i.title }}</a>
										<p>{{ i.short_desc }}</p>
								</div>
						    </div>
							{% endfor %}
						</div>
					<div class="indi_box">
						<ol class="carousel-indicators">
							<li data-target="#technews" data-slide-to="0" class="active"></li>
							<li data-target="#technews" data-slide-to="1"></li>
						</ol>
					</div>
				</div>
				<div class="head_title">Ekonomika</div>
				<div id="econews" class="carousel slide listnews" data-ride="carousel">
					<div class="news_box">
						<div class="carousel-inner" role="listbox">
							<div class="item active">
								<ul class="list_news">
									{% for i in ekonomika_new %}
									<li>
										<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
										<a href="#">{{ i.title }}</a>
										<span class="date">{{ i.get_date }}</span>
										<span class="news_type"><i class="fa fa-pencil"></i>{{ i.get_date }}</span>
									</li>
									{% endfor %}
								</ul>
							</div>
							<div class="item">
								<ul class="list_news">
									{% for i in ekonomika_new %}
									<li>
										<div class="list_img"><img src="{{ i.image1.url }}" alt=""></div>
										<a href="#">{{ i.title }}</a>
										<span class="date">{{ i.get_date }}</span>
										<span class="news_type"><i class="fa fa-pencil"></i>{{ i.get_date }}</span>
									</li>
									{% endfor %}
								</ul>
							</div>
						</div>
					</div>
					<div class="indi_box">
						<ol class="carousel-indicators">
							<li data-target="#econews" data-slide-to="0" class="active"></li>
							<li data-target="#econews" data-slide-to="1"></li>
						</ol>
					</div>
				</div>
				<div class="head_title photo_news">Yanglik Rasmi</div>
				<div id="technews" class="carousel slide listnews" data-ride="carousel">
						<div class="carousel-inner" role="listbox">
							{% for i in rasmi_news%}
							<div class="item active">
								<div class="full_img">
									<img src="{{ i.image1.url }}" alt="">
								</div>
								<div class="news_box">
										<a href="#">{{ i.title }}</a>
								</div>
						</div>
							{% endfor %}
					</div>
					<div class="indi_box">
						<ol class="carousel-indicators">
							<li data-target="#technews" data-slide-to="0" class="active"></li>
							<li data-target="#technews" data-slide-to="1"></li>
						</ol>
					</div>
				</div>
				<div class="head_title sport">Sport Yangliklari</div>
				<div id="econews" class="carousel slide listnews" data-ride="carousel">
					<div class="news_box">
						<div class="carousel-inner" role="listbox">
							<div class="item active">
								<ul class="list_news">
									{% for i in news|nfilter:'sport' %}
									<li>
										<div class="list_img"><img src="{% static 'img/news1.jpg' %}" alt=""></div>
										<a href="#">Dolor sit amet, consectetuer adipiscing elit.</a>
										<span class="date">12.01.2017</span>
										<span class="news_type"><i class="fa fa-pencil"></i> Общество</span>
									</li>
									{% endfor %}
								</ul>
							</div>
							<div class="item">
								<ul class="list_news">
									{% for i in news|nfilter:'sport' %}
									<li>
										<div class="list_img"><img src="{% static 'img/news1.jpg' %}" alt=""></div>
										<a href="#">Dolor sit amet, consectetuer adipiscing elit.</a>
										<span class="date">12.01.2017</span>
										<span class="news_type"><i class="fa fa-pencil"></i> Общество</span>
									</li>
									{% endfor %}
								</ul>
							</div>
						</div>
					</div>
					<div class="indi_box">
					</div>
				</div>
			</div>
		</div>
		<div class="foot_rek">
			<img src="{% static 'img/foootrek.jpg' %}" alt="">
		</div>
	</div>
{% endblock %}